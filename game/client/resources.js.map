{"version":3,"file":"\/home\/emh\/public_html\/github\/rts\/out.prod.client\/game\/client\/resources.js","sources":["resources.cljs"],"lineCount":454,"mappings":"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","names":["game.client.resources\/load-resource","path","on-success","on-progress","on-error","xhr","js\/XMLHttpRequest","G__27860","game.client.resources\/load-texture","model","promesa.core\/promise","resolve","reject","repeat-x","cljs.core\/first","repeat-y","cljs.core\/second","this","img","js\/Image","blob","js\/Blob","texture","js\/THREE.Texture","js\/THREE.RepeatWrapping","js\/window","game.client.resources\/load-voxels","buffer","uint8array","js\/Uint8Array","js\/pako","decoded","js\/msgpack","voxel-dict","cljs.core\/js->clj","voxel-geometry","game.client.voxelize\/voxelize-output","game.client.models\/post-transform-geometry","cljs.core\/assoc","game.client.resources\/load-geometry","geo-loader","js\/THREE.BufferGeometryLoader","geo","game.client.resources\/on-progress","progress-manager","resource","game.client.progress-manager\/update-progress-item","game.client.resources\/new-resources-Record","this__6832__auto__","k__6833__auto__","cljs.core\/-lookup","this__6834__auto__","k27864","else__6835__auto__","G__27866","cljs.core\/Keyword","resource-list","all-promise","started","start-count","stop-count","cljs.core\/get","__extmap","this__6846__auto__","writer__6847__auto__","opts__6848__auto__","pr-pair__6849__auto__","keyval__6850__auto__","cljs.core\/pr-sequential-writer","cljs.core\/pr-writer","cljs.core\/concat","cljs.core\/PersistentVector","G__27863","cljs.core\/RecordIter","cljs.core\/-iterator","this__6830__auto__","__meta","this__6826__auto__","__hash","this__6836__auto__","cljs.core\/count","this__6827__auto__","h__6645__auto__","cljs.core\/hash-imap","this__6828__auto__","other__6829__auto__","and__6198__auto__","cljs.core\/equiv-map","this__6841__auto__","k__6842__auto__","cljs.core\/contains?","cljs.core\/dissoc","cljs.core\/with-meta","cljs.core\/into","cljs.core\/not-empty","this__6839__auto__","k__6840__auto__","pred__27867","cljs.core\/keyword-identical?","expr__27868","this__6844__auto__","cljs.core\/seq","this__6831__auto__","this__6837__auto__","entry__6838__auto__","cljs.core\/vector?","cljs.core\/-assoc","cljs.core\/-nth","cljs.core\/reduce","cljs.core\/-conj","G__27862","cljs.core\/update","cljs.core\/inc","this__6866__auto__","writer__6867__auto__","cljs.core\/-write","game.client.resources\/->new-resources-Record","game.client.resources\/map->new-resources-Record","G__27865","com.stuartsierra.component\/using","game.client.resources\/new-resources","component","iter__6990__auto__","s__27871","cljs.core\/LazySeq","temp__4657__auto__","cljs.core\/chunked-seq?","c__6988__auto__","size__6989__auto__","b__27873","cljs.core\/chunk-buffer","i__27872","cljs.core\/chunk-append","cljs.core\/chunk-cons","cljs.core\/chunk","iter__27870","cljs.core\/chunk-rest","cljs.core\/cons","cljs.core\/rest","game.client.models\/get-models","texture-path","voxels-path","or__6210__auto__","clojure.string\/replace","clojure.string\/includes?","on-geo-progress","cljs.core\/partial","on-texture-progress","on-voxels-progress","load-promise","texture-load-promise","voxels-load-promise","cljs.core\/merge","promesa.core\/all","p1__27861#","cljs.core\/map","cljs.core\/chunk-first","cljs.core\/List"]}